<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BaseBitmap.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>
<hr><h1>BaseBitmap.cpp</h1><a href="BaseBitmap_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment"> </span>
00003 <span class="comment">Copyright (c) 2003, Cornell University</span>
00004 <span class="comment">All rights reserved.</span>
00005 <span class="comment"> </span>
00006 <span class="comment">Redistribution and use in source and binary forms, with or without</span>
00007 <span class="comment">modification, are permitted provided that the following conditions are met:</span>
00008 <span class="comment"> </span>
00009 <span class="comment">    - Redistributions of source code must retain the above copyright notice,</span>
00010 <span class="comment">        this list of conditions and the following disclaimer.</span>
00011 <span class="comment">    - Redistributions in binary form must reproduce the above copyright</span>
00012 <span class="comment">        notice, this list of conditions and the following disclaimer in the</span>
00013 <span class="comment">        documentation and/or other materials provided with the distribution.</span>
00014 <span class="comment">    - Neither the name of Cornell University nor the names of its</span>
00015 <span class="comment">        contributors may be used to endorse or promote products derived from</span>
00016 <span class="comment">        this software without specific prior written permission.</span>
00017 <span class="comment"> </span>
00018 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</span>
00019 <span class="comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
00020 <span class="comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
00021 <span class="comment">ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span>
00022 <span class="comment">LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span>
00023 <span class="comment">CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span>
00024 <span class="comment">SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span>
00025 <span class="comment">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span>
00026 <span class="comment">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span>
00027 <span class="comment">ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF</span>
00028 <span class="comment">THE POSSIBILITY OF SUCH DAMAGE.</span>
00029 <span class="comment"> </span>
00030 <span class="comment">*/</span>
00031 
00032 <span class="comment"></span>
00033 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00034 <span class="comment">///</span>
00035 <span class="comment">/// BaseBitmap.cpp</span>
00036 <span class="comment">///</span>
00037 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00038 <span class="comment"></span>
00039 <span class="preprocessor">#include "<a class="code" href="BaseBitmap_8h.html">BaseBitmap.h</a>"</span>
00040 <span class="preprocessor">#include &lt;limits.h&gt;</span>
00041 <span class="comment"></span>
00042 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00043 <span class="comment">/// @addtogroup BitmapProcessing</span>
00044 <span class="comment"></span><span class="comment">/** @{ */</span>
00045 
<a name="l00046"></a><a class="code" href="group__BitmapProcessing.html#a0">00046</a> <span class="preprocessor">#define BYTE_COUNT (sizeof(unsigned int) / sizeof(unsigned char))</span>
00047 <span class="preprocessor"></span><span class="comment"></span>
00048 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00049 <span class="comment">/// Allocate the memory for the BaseBitmap</span>
00050 <span class="comment">///</span>
00051 <span class="comment">/// @param numBits           number of bits in the BaseBitmap</span>
00052 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00053"></a><a class="code" href="classBaseBitmap.html#a1">00053</a> <span class="comment"></span><a class="code" href="classBaseBitmap.html#BaseBitmapa0">BaseBitmap::BaseBitmap</a>(<span class="keywordtype">int</span> numBits) {
00054     <span class="comment">// Convert bitsize to number of ints</span>
00055     <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> = (numBits / 32) + 1;
00056     <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a> = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>];
00057     <a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> = 0;
00058 
00059     <span class="comment">// fill BaseBitmap with zeroes</span>
00060     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; index++)
00061         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[index] = 0;
00062 }
00063 <span class="comment"></span>
00064 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00065 <span class="comment">/// Copy constructor</span>
00066 <span class="comment">///</span>
00067 <span class="comment">/// @param bitmapToCopy                 BaseBitmap to copy</span>
00068 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00069"></a><a class="code" href="classBaseBitmap.html#a2">00069</a> <span class="comment"></span><a class="code" href="classBaseBitmap.html#BaseBitmapa0">BaseBitmap::BaseBitmap</a>(<a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;bitmapToCopy) {
00070     <span class="comment">// Copy information from source bitmap</span>
00071     <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> = bitmapToCopy.<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>;
00072     <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a> = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[ <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> ];
00073     <a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> = bitmapToCopy.<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a>;
00074 
00075     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; bitmapToCopy.<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++)
00076         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = bitmapToCopy.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex];
00077 }
00078 <span class="comment"></span>
00079 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00080 <span class="comment">/// Fill the BaseBitmap with random data</span>
00081 <span class="comment">///</span>
00082 <span class="comment">/// @param prob                 probability of a bit being set to 1</span>
00083 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00084"></a><a class="code" href="classBaseBitmap.html#a3">00084</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__BitmapProcessing.html#a3">BaseBitmap::FillRand</a>(<span class="keywordtype">double</span> prob) {
00085     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> randy;
00086 
00087     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++) {
00088         randy = 0;
00089         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bitIndex = 0; bitIndex &lt; 32; bitIndex++) {
00090             <span class="comment">// Fill bit with 1 when below probability prob</span>
00091             <span class="keywordflow">if</span> ((rand() / (float)RAND_MAX) &lt; prob)
00092                 randy = randy + BitTable[bitIndex];
00093         }
00094 
00095         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = randy;
00096     }
00097 }
00098 <span class="comment"></span>
00099 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00100 <span class="comment">/// Fill the BaseBitmap with ones</span>
00101 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00102"></a><a class="code" href="classBaseBitmap.html#a4">00102</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__BitmapProcessing.html#a4">BaseBitmap::FillOnes</a>() {
00103     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++)
00104         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = UINT_MAX;
00105 }
00106 <span class="comment"></span>
00107 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00108 <span class="comment">/// Count the ones in the bitmap</span>
00109 <span class="comment">///</span>
00110 <span class="comment">/// @param CountCounts       a counter of counts (for debugging)</span>
00111 <span class="comment">/// @return                  the count of ones</span>
00112 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00113"></a><a class="code" href="classBaseBitmap.html#a5">00113</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classBaseBitmap.html#BaseBitmapl0">BaseBitmap::Count</a>(<span class="keywordtype">int</span> &amp;<a class="code" href="group__CounterVariables.html#a2">CountCounts</a>) {
00114     <span class="keywordtype">int</span> <span class="keyword">final</span> = 0;
00115     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *currentIndex;
00116     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++) {
00117         currentIndex = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) &amp; <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex];
00118 
00119         <span class="comment">// Count the 4 chars (1 int = 4 bytes/chars)</span>
00120         <span class="comment">// count 1s by dividing into chars and using a lookup table</span>
00121         <span class="keyword">final</span> += CountTable[*currentIndex];
00122         currentIndex++;
00123         <span class="keyword">final</span> += CountTable[*currentIndex];
00124         currentIndex++;
00125         <span class="keyword">final</span> += CountTable[*currentIndex];
00126         currentIndex++;
00127         <span class="keyword">final</span> += CountTable[*currentIndex];
00128     }
00129 
00130     <a class="code" href="group__CounterVariables.html#a2">CountCounts</a>++;
00131 
00132     <span class="comment">// set the count for the BaseBitmap</span>
00133     <a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> = <span class="keyword">final</span>;
00134     <span class="keywordflow">return</span> <span class="keyword">final</span>;
00135 }
00136 <span class="comment"></span>
00137 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00138 <span class="comment">/// Bitwise OR 2 bitmaps and store the result</span>
00139 <span class="comment">///</span>
00140 <span class="comment">/// @param B1                the first Bitmap</span>
00141 <span class="comment">/// @param B2                the second Bitmap</span>
00142 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00143"></a><a class="code" href="classBaseBitmap.html#a6">00143</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__BitmapProcessing.html#a6">BaseBitmap::Or</a>(<span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B1, <span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B2) {
00144     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *b1ptr, *b2ptr;
00145     b1ptr = B1.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00146     b2ptr = B2.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00147 
00148     <span class="comment">// for each INT in the bitmaps</span>
00149     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; B1.<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++) {<span class="comment"></span>
00150 <span class="comment">        /// Bitwise OR the int</span>
00151 <span class="comment"></span>        <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = (*b1ptr) | (*b2ptr);
00152         b1ptr++;
00153         b2ptr++;
00154     }
00155 
00156     <span class="comment">// Update the count (B1 and B2 are mutually exclusive)</span>
00157     <a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> = B1.<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> + B2.<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a>;
00158 }
00159 <span class="comment"></span>
00160 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00161 <span class="comment">/// Bitwise AND 2 bitmaps and store the result</span>
00162 <span class="comment">///</span>
00163 <span class="comment">/// @param B1                the first Bitmap</span>
00164 <span class="comment">/// @param B2                the second Bitmap</span>
00165 <span class="comment">/// @param CountAnds         [output] counter for # of ANDs (for debugging)</span>
00166 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00167"></a><a class="code" href="classBaseBitmap.html#a7">00167</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__BitmapProcessing.html#a7">BaseBitmap::AndOnly</a>(
00168     <span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B1,
00169     <span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B2,
00170     <span class="keywordtype">int</span> &amp;<a class="code" href="group__CounterVariables.html#a3">CountAnds</a>) {
00171 
00172     <a class="code" href="group__CounterVariables.html#a3">CountAnds</a>++;
00173     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *b1ptr, *b2ptr;
00174 
00175     <span class="comment">// AND the bitmaps</span>
00176 
00177     b1ptr = B1.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00178     b2ptr = B2.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00179 
00180     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; B1.<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++) {
00181         <span class="comment">// and each int bitwise</span>
00182         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = (*b1ptr) &amp; (*b2ptr);
00183         b1ptr++;
00184         b2ptr++;
00185     }
00186 }
00187 <span class="comment"></span>
00188 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00189 <span class="comment">/// Bitwise AND 2 bitmaps and the negation and store the result</span>
00190 <span class="comment">///</span>
00191 <span class="comment">/// @param B1                the first Bitmap</span>
00192 <span class="comment">/// @param B2                the second Bitmap</span>
00193 <span class="comment">/// @param CountAnds         [output] counter for # of ANDs (for debugging)</span>
00194 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00195"></a><a class="code" href="classBaseBitmap.html#a8">00195</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__BitmapProcessing.html#a8">BaseBitmap::NotAndOnly</a>(
00196     <span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B1,
00197     <span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> &amp;B2,
00198     <span class="keywordtype">int</span> &amp;<a class="code" href="group__CounterVariables.html#a3">CountAnds</a>) {
00199 
00200     <a class="code" href="group__CounterVariables.html#a3">CountAnds</a>++;
00201     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *b1ptr, *b2ptr;
00202 
00203     <span class="comment">// AND the small bitmaps</span>
00204 
00205     b1ptr = B1.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00206     b2ptr = B2.<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>;
00207 
00208     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = 0; byteIndex &lt; B1.<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a>; byteIndex++) {
00209         <span class="comment">// and each int bitwise</span>
00210         <a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[byteIndex] = (*b1ptr) &amp; ~(*b2ptr);
00211         b1ptr++;
00212         b2ptr++;
00213     }
00214 }
00215 <span class="comment"></span>
00216 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00217 <span class="comment">/// Determine whether this bitmap is a superset of the parameter.</span>
00218 <span class="comment">/// NOTE:  Assumes the set of bitmaps is lexicographically ordered.</span>
00219 <span class="comment">///</span>
00220 <span class="comment">/// @param subset            bitmap to check for a superset relation</span>
00221 <span class="comment">/// @return                  True if this bitmap is a superset of the</span>
00222 <span class="comment">///                          parameter bitmap (this bitmap has a 1 in ALL</span>
00223 <span class="comment">///                          positions that parameter bitmap does )</span>
00224 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00225"></a><a class="code" href="classBaseBitmap.html#a9">00225</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="group__BitmapProcessing.html#a9">BaseBitmap::Superset</a>(<span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> *subset) {
00226     <span class="comment">// No need to check for superset when the count is too small</span>
00227     <span class="keywordflow">if</span> (<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> &lt;= subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a>) {
00228         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00229     }
00230 
00231     <span class="comment">// Start at the end of the bitmap</span>
00232     <span class="comment">// Leads to fewer bitwise ANDs</span>
00233     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *b1ptr, *b2ptr;
00234     b1ptr = &amp;<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1];
00235     b2ptr = &amp;subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1];
00236 
00237     <span class="comment">// for each INT in the bitmaps</span>
00238     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1; byteIndex &gt;= 0; byteIndex--) {
00239         <span class="comment">// Andy++;</span>
00240         <span class="comment">// bitwise AND them</span>
00241         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> andResult = (*b1ptr) &amp; (*b2ptr);
00242 
00243         <span class="comment">// if not a subset</span>
00244         <span class="keywordflow">if</span> (andResult != *b2ptr)
00245             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00246 
00247         b1ptr--;
00248         b2ptr--;
00249     }
00250 
00251     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00252 }
00253 <span class="comment"></span>
00254 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
00255 <span class="comment">/// Determine whether this bitmap is a superset of the parameter or equal to it</span>
00256 <span class="comment">///</span>
00257 <span class="comment">/// @param subset            bitmap to check for a superseteq relation</span>
00258 <span class="comment">/// @return                  True if this bitmap is a superset of the</span>
00259 <span class="comment">///                          parameter bitmap (this bitmap has a 1 in ALL</span>
00260 <span class="comment">///                          positions that parameter bitmap does )</span>
00261 <span class="comment">/////////////////////////////////////////////////////////////////////</span>
<a name="l00262"></a><a class="code" href="classBaseBitmap.html#a10">00262</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="group__BitmapProcessing.html#a10">BaseBitmap::SupersetEq</a>(<span class="keyword">const</span> <a class="code" href="classBaseBitmap.html">BaseBitmap</a> *subset) {
00263     <span class="comment">// No need to check for superset when the count is too small</span>
00264     <span class="keywordflow">if</span> (<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a> &lt; subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm4">_count</a>) {
00265         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00266     }
00267 
00268     <span class="comment">// Start at the end of the bitmap</span>
00269     <span class="comment">// Leads to fewer bitwise ANDs</span>
00270     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *b1ptr, *b2ptr;
00271     b1ptr = &amp;<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1];
00272     b2ptr = &amp;subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm5">_memory</a>[subset-&gt;<a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1];
00273 
00274     <span class="comment">// for each INT in the bitmaps</span>
00275     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byteIndex = <a class="code" href="classBaseBitmap.html#Bitmapm3">_size</a> - 1; byteIndex &gt;= 0; byteIndex--) {
00276         <span class="comment">// Andy++;</span>
00277         <span class="comment">// bitwise AND them</span>
00278         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> andResult = (*b1ptr) &amp; (*b2ptr);
00279 
00280         <span class="comment">// if not a subset</span>
00281         <span class="keywordflow">if</span> (andResult != *b2ptr)
00282             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00283 
00284         b1ptr--;
00285         b2ptr--;
00286     }
00287 
00288     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00289 }
00290 <span class="comment"></span>
00291 <span class="comment">/** @} */</span>
</pre></div><hr><address style="align: right;"><small>Generated on Thu Dec 4 15:22:06 2003 for MAFIA by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
